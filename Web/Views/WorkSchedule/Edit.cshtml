@model Web.Models.WorkScheduleViewModel

@{
	ViewData["Title"] = "Cập nhật lịch làm việc";
}

@section Styles {
    <link rel="stylesheet" type="text/css" href="~/assets/css/font-awesome.css">
    <!-- ico-font-->
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/icofont.css">
    <!-- Themify icon-->
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/themify.css">
    <!-- Flag icon-->
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/flag-icon.css">
    <!-- Feather icon-->
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/feather-icon.css">
    <!-- Plugins css start-->
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/slick.css">
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/slick-theme.css">
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/scrollbar.css">
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/animate.css">
    <!-- Plugins css Ends-->
    <!-- Bootstrap css-->
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/bootstrap.css">
    <!-- App css-->
    <link rel="stylesheet" type="text/css" href="~/assets/css/style.css">
    <link id="color" rel="stylesheet" href="~/assets/css/color-1.css" media="screen">
    <!-- Responsive css-->
    <link rel="stylesheet" type="text/css" href="~/assets/css/responsive.css">
}

<div class="card">
    <div class="card-body">
        <form method="post" action="/workschedule/edit" class="row g-3 needs-validation custom-input" novalidate="">
            <input asp-for="Id" name="Id" hidden>
            
            <div class="col-md-6 position-relative">
                <label class="form-label" for="WorkDate">Ngày</label>
                <input class="form-control" asp-for="WorkDate" name="WorkDate" id="WorkDate" type="date" placeholder="" required="">
                <div class="invalid-tooltip">Chọn ngày.</div>
            </div>

            <div class="col-md-6 position-relative">
                <label class="form-label" for="TimeSlot">Chọn Slot</label>
                <select class="form-select" asp-for="SelectedSlot" name="SelectedSlot" id="TimeSlot" required>
                    <option value="">Chọn...</option>
                    @foreach (var slot in Model.TimeSlots)
                    {
                        <option value="@slot.Key" selected="@(slot.Key == Model.SelectedSlot ? "selected" : null)">@slot.Key - @slot.Value.Period (@slot.Value.StartTime.ToString(@"hh\:mm") - @slot.Value.EndTime.ToString(@"hh\:mm"))</option>
                    }
                </select>
                <div class="invalid-tooltip">Chọn slot thời gian.</div>
            </div>

            <div class="col-md-6 position-relative">
                <label class="form-label" for="EmployeeId">Nhân viên</label>
                <select class="form-select" asp-for="WorkScheduleData.EmployeeId" name="EmployeeId" id="EmployeeId" required>
                    <option value="">Chọn...</option>
                    @foreach (var emp in Model.Employees)
                    {
                        <option value="@emp.Id" selected="@(emp.Id == Model.WorkScheduleData.EmployeeId ? "selected" : null)">@emp.FullName (@emp.Phone)</option>
                    }
                </select>
                <div class="invalid-tooltip">Chọn nhân viên.</div>
            </div>

            <div class="col-md-6 position-relative">
                <label class="form-label" for="Status">Trạng thái</label>
                <select class="form-select" asp-for="Status" name="Status" id="Status" required>
                    <option value="">Chọn...</option>
                    @foreach (var wsStatus in new List<(string Value, string Name)>
                    {
                    (Value: "SCHEDULED", Name: "Có khách đặt lịch"),
                    (Value: "COMPLETED", Name: "Đã làm xong"),
                    (Value: "CANCELED", Name: "Không làm"),
                    (Value: "INPROGRESS", Name: "Đang làm"),
                    })
                    {
                        <option value="@wsStatus.Value" selected="@(wsStatus.Value == Model.WorkScheduleData.Status ? "selected" : null)">@wsStatus.Name</option>
                    }
                </select>
                <div class="invalid-tooltip">Chọn trạng thái.</div>
            </div>

            <div class="col-12">
                <button class="btn btn-primary" type="submit">Cập nhật</button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <script src="~/assets/js/jquery.min.js"></script>
    <!-- Bootstrap js-->
    <script src="~/assets/js/bootstrap/bootstrap.bundle.min.js"></script>
    <!-- feather icon js-->
    <script src="~/assets/js/icons/feather-icon/feather.min.js"></script>
    <script src="~/assets/js/icons/feather-icon/feather-icon.js"></script>
    <!-- scrollbar js-->
    <script src="~/assets/js/scrollbar/simplebar.js"></script>
    <script src="~/assets/js/scrollbar/custom.js"></script>
    <!-- Sidebar jquery-->
    <script src="~/assets/js/config.js"></script>
    <!-- Plugins JS start-->
    <script src="~/assets/js/sidebar-menu.js"></script>
    <script src="~/assets/js/sidebar-pin.js"></script>
    <script src="~/assets/js/slick/slick.min.js"></script>
    <script src="~/assets/js/slick/slick.js"></script>
    <script src="~/assets/js/header-slick.js"></script>
    <!-- calendar js-->
    <script src="~/assets/js/form-validation-custom.js"></script>
    <script src="~/assets/js/height-equal.js"></script>
    <!-- Plugins JS Ends-->
    <!-- Theme js-->
    <script src="~/assets/js/script.js"></script>
}